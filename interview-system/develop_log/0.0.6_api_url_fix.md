# 版本 0.0.6 - API URL 构建修复

## 问题描述
DeepSeek API 返回 404 错误，因为 API URL 构建不正确。

## 修复内容

### 1. 智能 URL 构建
添加 `buildApiUrl()` 方法，自动处理各种端点格式：

```java
private String buildApiUrl(String endpoint) {
    // 移除末尾的斜杠
    endpoint = endpoint.replaceAll("/+$", "");
    
    // 如果已经包含完整路径，直接返回
    if (endpoint.contains("/chat/completions")) {
        return endpoint;
    }
    
    // 如果包含 /v1，追加 /chat/completions
    if (endpoint.endsWith("/v1")) {
        return endpoint + "/chat/completions";
    }
    
    // 否则追加 /v1/chat/completions
    return endpoint + "/v1/chat/completions";
}
```

### 2. 支持多种配置格式
- `https://api.deepseek.com` → `https://api.deepseek.com/v1/chat/completions`
- `https://api.deepseek.com/v1` → `https://api.deepseek.com/v1/chat/completions`
- `https://api.deepseek.com/v1/chat/completions` → 保持不变

### 3. 默认配置参考

| 提供商 | API端点 | 模型名称 |
|--------|---------|----------|
| DeepSeek | `https://api.deepseek.com/v1` | `deepseek-chat` 或 `deepseek-reasoner` |
| OpenAI | `https://api.openai.com/v1` | `gpt-4` 或 `gpt-3.5-turbo` |

## LLM 配置指南

### 1. 进入系统设置
登录后点击"API配置"标签

### 2. 添加 DeepSeek 配置
```
配置名称：DeepSeek-Chat
提供商：DeepSeek
模型名称：deepseek-chat
API端点：https://api.deepseek.com/v1
API密钥：sk-xxxxxxxxxxxxxxxx
设为默认：是
```

### 3. 或使用 DeepSeek Reasoner（推理模型）
```
配置名称：DeepSeek-Reasoner
提供商：DeepSeek-Thinking
模型名称：deepseek-reasoner
API端点：https://api.deepseek.com/v1
API密钥：sk-xxxxxxxxxxxxxxxx
设为默认：是
```

## 构建运行

```bash
cd interview-system
mvn clean package -s settings.xml -DskipTests
java -jar target/interview-system-1.0-SNAPSHOT.jar --db-password 1234
```

## 调试提示

如果仍然遇到 404 错误，请检查：
1. API端点是否正确（建议使用 `https://api.deepseek.com/v1`）
2. API密钥是否有效
3. 模型名称是否正确（`deepseek-chat` 或 `deepseek-reasoner`）
